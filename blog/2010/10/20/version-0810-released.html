<!doctype html>
<html lang="zh-CN">
  <head>
  <meta name="charset" content="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Nim 语言是一种简洁、快速的编程语言， 可被编译成 C 、 C++ 甚至 JavaScript 。">
  <meta charset="utf-8">
  <link rel="icon" type="image/png" href="https://nim-lang-cn.org/assets/img/logo_bw.png" />

  
  <title>Version 0.8.10 released - Nim博客</title>
  
  <link rel="stylesheet" href="https://nim-lang-cn.org/assets/css/pure.min.css">
  <link rel="stylesheet" href="https://nim-lang-cn.org/assets/css/pure-grids-responsive.min.css">
  <!-- <link href="https://use.fontawesome.com/releases/v5.0.2/css/all.css" rel="stylesheet"> -->
  <link href="https://cdn.bootcss.com/font-awesome/5.10.2/css/all.min.css" rel="stylesheet">
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
  
  <link rel="stylesheet" href="https://nim-lang-cn.org/assets/css/highlight/github.css">
  

  <meta name="keyword" content="nim,nim中文,Nim中文社区,nim中文网,nim语言,nim编程语言">

  <!-- <link href="https://fonts.googleapis.com/css?family=Inconsolata|Open+Sans|Titillium+Web" rel="stylesheet"> -->
  <link href="https://fonts.font.im/css?family=Inconsolata|Open+Sans|Titillium+Web" rel="stylesheet">
  <link rel="stylesheet" href="https://nim-lang-cn.org/assets/css/main.css?t=1634689864454356343">

  <!-- <meta name="twitter:title" content="Version 0.8.10 released"> -->

  
  <!-- <meta name="twitter:description" content="Bugfixes Bugfix: Command line parsing on Windows and os.parseCmdLine now adheres to the same parsing rules as Microsoft’s C/C++ startup code. Bugfix: Passing a ref pointer to the untyped pointer type is invalid. Bugfix: Updated keyval example. Bugfix: system.splitChunk still contained code for debug output. Bugfix: dialogs.ChooseFileToSave uses STOCK_SAVE instead of STOCK_OPEN for the GTK backend. Bugfix: Various bugs concerning exception handling fixed. Bugfix: low(somestring) crashed the compiler. Bugfix: strutils.endsWith lacked range checking. Bugfix: Better detection for AMD64 on Mac OS X. Changes affecting backwards compatibility Reversed parameter order for os.copyFile and os.moveFile!!! Procs not marked as procvar cannot only be passed to a procvar anymore, unless they are used in the same module. Deprecated times.getStartMilsecs: Use epochTime or cpuTime instead. Removed system.OpenFile. Removed system.CloseFile. Removed strutils.replaceStr. Removed strutils.deleteStr. Removed strutils.splitLinesSeq. Removed strutils.splitSeq. Removed strutils.toString. If a DLL cannot be loaded (via the dynlib pragma) EInvalidLibrary is not raised anymore. Instead system.quit() is called. This is because raising an exception requires heap allocations. However the memory manager might be contained in the DLL that failed to load. The re module (and the pcre wrapper) now depend on the pcre dll. Additions The {.compile: "file.c".} pragma uses a CRC check to see if the file needs to be recompiled. Added system.reopen. Added system.getCurrentException. Added system.appType. Added system.compileOption. Added times.epochTime and times.cpuTime. Implemented explicit type arguments for generics. Implemented {.size: sizeof(cint).} pragma for enum types. This is useful for interfacing with C. Implemented {.pragma.} pragma for user defined pragmas. Implemented {.extern.} pragma for better control of name mangling. The importc and exportc pragmas support format strings: proc p{.exportc: "nim_$1".} exports p as nim_p. This is useful for user defined pragmas. The standard library can be built as a DLL. Generating DLLs has been improved. Added expat module. Added json module. Added support for a Tiny C backend. Currently this only works on Linux. You need to bootstrap with -d:tinyc to enable Tiny C support. Nimrod can then execute code directly via nimrod run myfile."> -->
  <meta property="og:description" content="Bugfixes Bugfix: Command line parsing on Windows and os.parseCmdLine now adheres to the same parsing rules as Microsoft’s C/C++ startup code. Bugfix: Passing a ref pointer to the untyped pointer type is invalid. Bugfix: Updated keyval example. Bugfix: system.splitChunk still contained code for debug output. Bugfix: dialogs.ChooseFileToSave uses STOCK_SAVE instead of STOCK_OPEN for the GTK backend. Bugfix: Various bugs concerning exception handling fixed. Bugfix: low(somestring) crashed the compiler. Bugfix: strutils.endsWith lacked range checking. Bugfix: Better detection for AMD64 on Mac OS X. Changes affecting backwards compatibility Reversed parameter order for os.copyFile and os.moveFile!!! Procs not marked as procvar cannot only be passed to a procvar anymore, unless they are used in the same module. Deprecated times.getStartMilsecs: Use epochTime or cpuTime instead. Removed system.OpenFile. Removed system.CloseFile. Removed strutils.replaceStr. Removed strutils.deleteStr. Removed strutils.splitLinesSeq. Removed strutils.splitSeq. Removed strutils.toString. If a DLL cannot be loaded (via the dynlib pragma) EInvalidLibrary is not raised anymore. Instead system.quit() is called. This is because raising an exception requires heap allocations. However the memory manager might be contained in the DLL that failed to load. The re module (and the pcre wrapper) now depend on the pcre dll. Additions The {.compile: "file.c".} pragma uses a CRC check to see if the file needs to be recompiled. Added system.reopen. Added system.getCurrentException. Added system.appType. Added system.compileOption. Added times.epochTime and times.cpuTime. Implemented explicit type arguments for generics. Implemented {.size: sizeof(cint).} pragma for enum types. This is useful for interfacing with C. Implemented {.pragma.} pragma for user defined pragmas. Implemented {.extern.} pragma for better control of name mangling. The importc and exportc pragmas support format strings: proc p{.exportc: "nim_$1".} exports p as nim_p. This is useful for user defined pragmas. The standard library can be built as a DLL. Generating DLLs has been improved. Added expat module. Added json module. Added support for a Tiny C backend. Currently this only works on Linux. You need to bootstrap with -d:tinyc to enable Tiny C support. Nimrod can then execute code directly via nimrod run myfile.">
  

  <!-- <meta name="twitter:site" content="@nim_lang"> -->
  <!-- <meta name="twitter:card" content="summary_large_image"> -->
  <!-- <meta name="twitter:image" content="https://nim-lang.org/assets/img/twitter_banner.png">  -->

  <meta property="og:title" content="Version 0.8.10 released" />
  <meta property="og:site_name" content="Nim中文社区" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://nim-lang-cn.org/assets/img/twitter_banner.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1000" />
  <meta property="og:image:height" content="500" />
  <meta property="og:image:alt" content="Nim中文" />

  <meta name="copyright" content="Nim中文社区">

  <!-- SEO START -->
  <!-- baidu -->
  <meta name="baidu-site-verification" content="D5uE3gaRue" />
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-144592616-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-144592616-1');
  </script>
  <!-- bing -->
  <meta name="msvalidate.01" content="664E5CE055C5DCC50BB1238208911CDF" />
  <!-- yandex -->
  <meta name="yandex-verification" content="24900ce4c46b3893" />
  <!-- SEO END -->

  <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
</head>

  <body class="site">
    <header>
  <nav class="pure-menu pure-menu-horizontal pure-menu-scrollable">
    <div class="nav-content">
      <a href="https://nim-lang-cn.org/" class="pure-menu-heading pure-menu-link site-logo-container">
        <img class="site-logo" src="https://nim-lang-cn.org/assets/img/logo.svg" height="28" alt="Nim">
      </a>
      <ul class="pure-menu-list">
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tea.nim-lang-cn.org/">早茶</a>
        </li>
        
        <li class="pure-menu-item">
          <a href="https://nim-lang-cn.org/blog.html"
             class="pure-menu-link ">
            博客
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="https://nim-lang-cn.org/features.html"
             class="pure-menu-link ">
            特点
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="https://nim-lang-cn.org/install.html"
             class="pure-menu-link ">
            下载
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="https://nim-lang-cn.org/documentation.html"
             class="pure-menu-link ">
            Documentation
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="https://nim-lang-cn.org/community.html"
             class="pure-menu-link ">
            社区
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://github.com/nim-lang/Nim">源码</a>
        </li>
      </ul>
    </div>
    <div class="menu-fade"></div>
  </nav>
</header>

    <div class="site-content post-page">
      <div class="content">
        <div class="width-reduced">
          <h1 class="post-title">
            Version 0.8.10 released
          </h1>
          <h3 class="post-meta">
            <span>
              <i class="far fa-calendar-alt" aria-hidden="true"></i>
              20 October 2010
            </span>
            
            <span>
              <i class="fa fa-user-circle" aria-hidden="true"></i>
              Andreas Rumpf
            </span>
            
          </h3>
          <h2 id="bugfixes">Bugfixes</h2>
<ul>
  <li>Bugfix: Command line parsing on Windows and <code class="language-plaintext highlighter-rouge">os.parseCmdLine</code> now adheres
to the same parsing rules as Microsoft’s C/C++ startup code.</li>
  <li>Bugfix: Passing a <code class="language-plaintext highlighter-rouge">ref</code> pointer to the untyped <code class="language-plaintext highlighter-rouge">pointer</code> type is invalid.</li>
  <li>Bugfix: Updated <code class="language-plaintext highlighter-rouge">keyval</code> example.</li>
  <li>Bugfix: <code class="language-plaintext highlighter-rouge">system.splitChunk</code> still contained code for debug output.</li>
  <li>Bugfix: <code class="language-plaintext highlighter-rouge">dialogs.ChooseFileToSave</code> uses <code class="language-plaintext highlighter-rouge">STOCK_SAVE</code> instead of
<code class="language-plaintext highlighter-rouge">STOCK_OPEN</code> for the GTK backend.</li>
  <li>Bugfix: Various bugs concerning exception handling fixed.</li>
  <li>Bugfix: <code class="language-plaintext highlighter-rouge">low(somestring)</code> crashed the compiler.</li>
  <li>Bugfix: <code class="language-plaintext highlighter-rouge">strutils.endsWith</code> lacked range checking.</li>
  <li>Bugfix: Better detection for AMD64 on Mac OS X.</li>
</ul>

<h2 id="changes-affecting-backwards-compatibility">Changes affecting backwards compatibility</h2>

<ul>
  <li>Reversed parameter order for <code class="language-plaintext highlighter-rouge">os.copyFile</code> and <code class="language-plaintext highlighter-rouge">os.moveFile</code>!!!</li>
  <li>Procs not marked as <code class="language-plaintext highlighter-rouge">procvar</code> cannot only be passed to a procvar anymore,
unless they are used in the same module.</li>
  <li>Deprecated <code class="language-plaintext highlighter-rouge">times.getStartMilsecs</code>: Use <code class="language-plaintext highlighter-rouge">epochTime</code> or <code class="language-plaintext highlighter-rouge">cpuTime</code>
instead.</li>
  <li>Removed <code class="language-plaintext highlighter-rouge">system.OpenFile</code>.</li>
  <li>Removed <code class="language-plaintext highlighter-rouge">system.CloseFile</code>.</li>
  <li>Removed <code class="language-plaintext highlighter-rouge">strutils.replaceStr</code>.</li>
  <li>Removed <code class="language-plaintext highlighter-rouge">strutils.deleteStr</code>.</li>
  <li>Removed <code class="language-plaintext highlighter-rouge">strutils.splitLinesSeq</code>.</li>
  <li>Removed <code class="language-plaintext highlighter-rouge">strutils.splitSeq</code>.</li>
  <li>Removed <code class="language-plaintext highlighter-rouge">strutils.toString</code>.</li>
  <li>If a DLL cannot be loaded (via the <code class="language-plaintext highlighter-rouge">dynlib</code> pragma) <code class="language-plaintext highlighter-rouge">EInvalidLibrary</code>
is not raised anymore. Instead <code class="language-plaintext highlighter-rouge">system.quit()</code> is called. This is because
raising an exception requires heap allocations. However the memory manager
might be contained in the DLL that failed to load.</li>
  <li>The <code class="language-plaintext highlighter-rouge">re</code> module (and the <code class="language-plaintext highlighter-rouge">pcre</code> wrapper) now depend on the pcre dll.</li>
</ul>

<h2 id="additions">Additions</h2>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">{.compile: "file.c".}</code> pragma uses a CRC check to see if the file
needs to be recompiled.</li>
  <li>Added <code class="language-plaintext highlighter-rouge">system.reopen</code>.</li>
  <li>Added <code class="language-plaintext highlighter-rouge">system.getCurrentException</code>.</li>
  <li>Added <code class="language-plaintext highlighter-rouge">system.appType</code>.</li>
  <li>Added <code class="language-plaintext highlighter-rouge">system.compileOption</code>.</li>
  <li>Added <code class="language-plaintext highlighter-rouge">times.epochTime</code> and <code class="language-plaintext highlighter-rouge">times.cpuTime</code>.</li>
  <li>Implemented explicit type arguments for generics.</li>
  <li>Implemented <code class="language-plaintext highlighter-rouge">{.size: sizeof(cint).}</code> pragma for enum types. This is useful
for interfacing with C.</li>
  <li>Implemented <code class="language-plaintext highlighter-rouge">{.pragma.}</code> pragma for user defined pragmas.</li>
  <li>Implemented <code class="language-plaintext highlighter-rouge">{.extern.}</code> pragma for better control of name mangling.</li>
  <li>The <code class="language-plaintext highlighter-rouge">importc</code> and <code class="language-plaintext highlighter-rouge">exportc</code> pragmas support format strings:
<code class="language-plaintext highlighter-rouge">proc p{.exportc: "nim_$1".}</code> exports <code class="language-plaintext highlighter-rouge">p</code> as <code class="language-plaintext highlighter-rouge">nim_p</code>. This is useful
for user defined pragmas.</li>
  <li>The standard library can be built as a DLL. Generating DLLs has been
improved.</li>
  <li>Added <code class="language-plaintext highlighter-rouge">expat</code> module.</li>
  <li>Added <code class="language-plaintext highlighter-rouge">json</code> module.</li>
  <li>Added support for a <em>Tiny C</em> backend. Currently this only works on Linux.
You need to bootstrap with <code class="language-plaintext highlighter-rouge">-d:tinyc</code> to enable Tiny C support. Nimrod
can then execute code directly via <code class="language-plaintext highlighter-rouge">nimrod run myfile</code>.</li>
</ul>

        </div>
      </div>
    </div>
    <footer>
  <section class="content">
    <div class="pure-g">
      <div class="copyright pure-u-2-3">
        <p>
          除非另有说明，本页内容遵从
          <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0</a>
          许可。
          网站显示的代码遵从MIT许可。
        </p>
        <p>
          本网站在
          <a href="https://github.com/nim-lang-cn/website">GitHub</a>
          上可用并且欢迎提供贡献。
          官方网站由
          <a href="https://github.com/dom96">Dominik Picheta</a>和
          <a href="https://github.com/Calinou">Hugo Locurcio</a>设计。
          Logo由<a href="https://github.com/josephwecker">Joseph Wecker</a>设计。
        </p>
        <p>
          中文翻译由Nim中文社区提供。
          服务器和域名由<a href="https://blog.doylee.cn/">ch4o5</a>提供。
          <a href="https://github.com/gogolxdong">sheldon</a>提供了文档翻译和其他翻译支持。
        </p>
      </div>
      <div class="pure-u-1-3 right-center">
        <script data-cfbadgetype="a" data-cfbadgeskin="dkgray" type="text/javascript">
          //<![CDATA[
          try { window.CloudFlare || function () { var a = window.document, b = a.createElement("script"), a = a.getElementsByTagName("script")[0]; window.CloudFlare = []; b.type = "text/javascript"; b.async = !0; b.src = "//ajax.cloudflare.com/cdn-cgi/nexp/cloudflare.js"; a.parentNode.insertBefore(b, a) }(), CloudFlare.push(function (a) { a(["cloudflare/badge"]) }) } catch (e$$5) { try { console.error("CloudFlare badge code could not be loaded. " + e$$5.message) } catch (e$$6) { } };
          //]]>
        </script>
      </div>
    </div>
  </section>

</footer>
<script>
  (function () {
    function setTracking(a) {
      var url = a.href;
      a.onclick = function () {
        if (typeof (ga) !== "undefined") {
          ga('send', 'event', 'outbound', 'click', url, {
            'transport': 'beacon',
            'hitCallback': function () { document.location = url; }
          });
        }
      };
    }

    var a = document.getElementsByTagName("a");
    for (var i = 0; i < a.length; ++i) {
      if (a[i].hostname != location.hostname &&
        a[i].getAttribute("target") !== "_blank"
      ) {
        setTracking(a[i])
      }
    }
  })();
</script>
<script>
  $(function () {
    $("section a").attr("target", "_blank");
  });
</script>
<script>
  // 百度统计
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?c81f717a4630758267f3b86f9efa48f0";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  
  </body>
</html>
